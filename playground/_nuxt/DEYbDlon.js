import{g as a,t as g}from"./8m09tWJ9.js";import{a5 as f,r as m,a3 as y,C as S,a4 as h,s as C,H as d,a6 as v,K as x,a7 as F}from"./BdbIzQsM.js";const c=Symbol("criticalContext");function K(i={}){const t=f(),{critical:r}={critical:void 0,...i},e=m("critical"in t?t.critical===""||String(t.critical)==="true":r),o=y(c,e.value||!1),n=S(()=>typeof e.value=="boolean"?e.value:o);return h(c,n.value||r),{isCritical:n,critical:o}}class N{constructor(){this.list=[]}getKey(){return l(JSON.stringify(this.list.map(t=>t.getKey())))}add(t){const r={name:"data-font",value:`${l(JSON.stringify(t.map(e=>e.getKey())))}`};return this.list=[...this.list,...t.map(e=>(e.setRootSelector(r),e))],r}getPreloadDescriptions(t,r="anonymous"){return Array.from(this.list.reduce((e,o)=>e,new Map).values())}getStyleDescriptions(t){return u([a(this.list.map(r=>r.getCSSText(t)).join(" "),!1,this.getKey())])}getNoScriptStyleDescriptions(){return u([a(this.list.map(t=>t.getNoScriptCSSText()).join(" "),!0,this.getKey())])}get size(){return this.list.length}toJSON(){return{list:this.list.map(t=>t.toJSON())}}}function l(i,t){return g(`${i}_${t}`).padStart(9,"-")}function u(i){return i.filter(t=>t.key!=="0")}function b(){const{booster:i}=C().public;return i}function j(i={}){const{isCritical:t,critical:r}=K(i),e=b(),o=d(),n=v(new N),p={usedFontaine:e.usedFontaine};try{const s=o.$booster.head.push(n,t.value,p);x(()=>F(()=>s.dispose()))}catch(s){console.error(s)}return{isCritical:t,critical:r,$getFont:(...s)=>({runtimeConfig:e,isCritical:t.value,fontCollection:n,definition:o.$booster.getFont(...s)})}}export{j as a,K as u};
