import{g as a,t as g}from"./8m09tWJ9.js";import{a5 as f,r as m,a3 as y,C as S,a4 as h,s as C,H as d,a6 as v,K as x,a7 as F}from"./B_lentf6.js";const c=Symbol("criticalContext");function K({critical:i}={}){const t=f(),r=m("critical"in t?t.critical===""||String(t.critical)==="true":i),e=y(c,r.value||!1),o=S(()=>typeof r.value=="boolean"?r.value:e);return h(c,o.value||i),{isCritical:o,critical:e}}class N{constructor(){this.list=[]}getKey(){return u(JSON.stringify(this.list.map(t=>t.getKey())))}add(t){const r={name:"data-font",value:`${u(JSON.stringify(t.map(e=>e.getKey())))}`};return this.list=[...this.list,...t.map(e=>(e.setRootSelector(r),e))],r}getPreloadDescriptions(t,r="anonymous"){return Array.from(this.list.reduce((e,o)=>e,new Map).values())}getStyleDescriptions(t){return l([a(this.list.map(r=>r.getCSSText(t)).join(" "),!1,this.getKey())])}getNoScriptStyleDescriptions(){return l([a(this.list.map(t=>t.getNoScriptCSSText()).join(" "),!0,this.getKey())])}get size(){return this.list.length}toJSON(){return{list:this.list.map(t=>t.toJSON())}}}function u(i,t){return g(`${i}_${t}`).padStart(9,"-")}function l(i){return i.filter(t=>t.key!=="0")}function b(){const{booster:i}=C().public;return i}function j(i){const{isCritical:t,critical:r}=K(i),e=b(),o=d(),n=v(new N),p={usedFontaine:e.usedFontaine};try{const s=o.$booster.head.push(n,t.value,p);x(()=>F(()=>s.dispose()))}catch(s){console.error(s)}return{isCritical:t,critical:r,$getFont:(...s)=>({runtimeConfig:e,isCritical:t.value,fontCollection:n,definition:o.$booster.getFont(...s)})}}export{j as a,K as u};
